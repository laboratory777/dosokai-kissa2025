<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#4f6b64">
  <title>同窓会喫茶｜文化祭2025</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" href="image/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="image/apple-touch-icon.PNG">
  <meta property="og:image" content="image/ogp.PNG">
  <meta property="og:title" content="同窓会喫茶｜文化祭2025">
  <meta property="og:description" content="文化祭のとっておきスポット！気軽に立ち寄れる“同窓会喫茶”、今年もオープンします">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://laboratory777.github.io/dosokai-kissa2025/">
</head>
<body>
  <header>
   <div class="logo-container">
    <img src="image/cafe-logo.PNG" alt="ロゴ" class="logoimg">
    <p>文化祭2025</p>
    </div>
  </header>

  <section class="kikan">
    <h2><img src="image/Calendar.svg" alt="期間" class="section-icon">開催期間</h2>
    <p class="subtitle">2025年9月20日～21日</p>
  </section>

  <section class="basyo">
    <h2><img src="image/Map.svg" alt="場所" class="section-icon">開催場所</h2>
    <p class="subtitle">本館3階319教室(紫階段すぐ横)</p>
  </section>

  <section class="intro">
    <h2><img src="image/Setumei.svg" alt="紹介" class="section-icon">同窓会喫茶とは？</h2>
    <p>卒業生の皆さんがゆったりと交流できる空間です。飲み物やお菓子をご用意してお待ちしています。</p>
  </section>

  <section class="menu">
    <h2><img src="image/Menu.svg" alt="メニュー" class="section-icon">ドリンクメニュー</h2>
    <ul>
      <li>コーヒー（ホットのみ）</li>
      <li>紅茶（HOT・ICE）</li>
      <li>ウーロン茶</li>
      <li>コーラ</li>
      <li>オレンジジュース</li>
    </ul>
  </section>

  <section class="status" id="statusWrapper">
    <h2><img src="image/Clock.svg" alt="情報" class="section-icon">現在の混雑状況・営業時間</h2>
  <div class="status-box">
    <div id="status-display">読み込み中...</div>
    <p id="openNowMessage" class="open-now-text"></p>
  </div>
    <p class="status-note">混雑状況:15分おきに更新／営業時間:自動更新</p>
  </section>

  <section class="gallery">
    <h2><img src="image/Photo.svg" alt="ギャラリー" class="section-icon">ギャラリー</h2>
    <div class="slider">
      <div class="slides">
        <img src="image/cafe1.jpg" alt="室内の様子1">
        <img src="image/cafe2.jpg" alt="室内の様子2">
        <img src="image/cafe3.jpg" alt="ドリンク一例">
      </div>
      <button class="nav prev" onclick="prevSlide()"><</button>
      <button class="nav next" onclick="nextSlide()">></button>
      <p class="status-note">※画像はイメージです。</p>
      <div class="indicators">
        <span class="dot active" onclick="setSlide(0)"></span>
        <span class="dot" onclick="setSlide(1)"></span>
        <span class="dot" onclick="setSlide(2)"></span>
      </div>
    </div>
  </section>

  <footer>
    <p>© このサイト作った人</p>
  </footer>

<!-- ハンバーガーメニュー（スマホ・タブレットのみ表示） -->
<div class="hamburger-wrapper">
  <button id="hamburgerBtn" aria-label="メニュー">
    <img src="image/Menu.svg" alt="メニューを開く" class="hamburger-icon">
  </button>
  <nav id="hamburgerMenu" class="hamburger-menu">
  <p class="hamburger-title">項目を選択</p>
  <button class="close-menu-btn" aria-label="閉じる">
    <img src="image/Close.svg" alt="閉じる" class="close-icon">
  </button>
    <button onclick="scrollToSection('kikan')"><img src="image/Calendar.svg" alt="">期間</button>
    <button onclick="scrollToSection('basyo')"><img src="image/Map.svg" alt="">場所</button>
    <button onclick="scrollToSection('intro')"><img src="image/Setumei.svg" alt="">紹介</button>
    <button onclick="scrollToSection('menu')"><img src="image/Menu.svg" alt="">メニュー</button>
    <button onclick="scrollToSection('statusWrapper')"><img src="image/Clock.svg" alt="">状況</button>
    <button onclick="scrollToSection('gallery')"><img src="image/Photo.svg" alt="">写真</button>
<hr style="margin: 0.5rem 0; border: 0; border-top: 1px solid #999;">
<button onclick="openFestivalModal()"><img src="image/Info.svg" alt="">文化祭について</button>
  </nav>
</div>

  <button id="toTopBtn" title="トップへ戻る">↑</button>
  <script src="js/script.js"></script>
  <script src="js/modal.js"></script>
  <script src="js/festivalData.js"></script>
  <script src="js/festivalModal.js"></script>
  <script src="js/favorite.js"></script>
  <script src="js/stallCalc.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  <script src="js/firebase-config.js"></script>
  <script>
  const statusEl = document.getElementById('status-display');

  // 初期読み込みとリアルタイム監視
  database.ref('status').on('value', (snapshot) => {
    const val = snapshot.val();

    // クラスをすべて一度リセット（背景色切り替えのため）
    statusEl.classList.remove('status-green', 'status-yellow', 'status-red');

    if (val === 'green') {
      statusEl.textContent = '空いてる';
      statusEl.classList.add('status-green');
    } else if (val === 'yellow') {
      statusEl.textContent = 'やや混雑';
      statusEl.classList.add('status-yellow');
    } else if (val === 'red') {
      statusEl.textContent = '混雑中';
      statusEl.classList.add('status-red');
    } else {
      statusEl.textContent = '取得エラー';
    }
  });

  </script>
</body>
</html>
